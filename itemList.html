<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Initials Box</title>
                <style>
                    /* Style the select menu */
                        .item_line {
                            display: flex;
                            align-items: center;
                        }
                        select {
                            padding: 4px;
                            font-size: 14px;
                            border: 1px solid #000000;
                            background-color: #ffffff;
                            width: 60px; /* Adjust width as needed */
                            height: 29px;
                            margin: 2px;
                            display: flex;
                            align-items: center;
                        }

                        /* Style the options */
                        option {
                            padding: 10px;
                            font-size: 14px;
                            z-index: 1;
                            display: flex;
                        }

                        /* Style the select when it's focused */
                        select:focus {
                            outline: none;
                            border-color: #3f3b3b;
                        }
                </style>                
    <title>Item Box</title>
                <style>
                    .item-box {
                        border: 1px solid #000000; /* Adds a black border around the div */
                        padding: 4px; /* Adds some space between the text and the border */
                        margin-left: 4px; /* Adds some space outside the border */
                        width: 150px; /* Specifies the width of the box */
                        height: 20px; /* Specifies the height of the box */
                        overflow: auto; /* Ensures the content is scrolled if it overflows */
                        background-color: #ffffff; /* Sets a light gray background color */
                        display: inline-block;
                    }
                </style>
    <title>Price Box</title>
                <style>
                    .price-box {
                        border: 1px solid #000000; /* Adds a black border around the div */
                        padding: 4px; /* Adds some space between the text and the border */
                        margin-left: 4px; /* Adds some space outside the border */
                        width: 50px; /* Specifies the width of the box */
                        height: 20px; /* Specifies the height of the box */
                        overflow: auto; /* Ensures the content is scrolled if it overflows */
                        background-color: #ffffff; /* Sets a light gray background color */
                        display: inline-block;
                    }
                </style>
    <title>Initials</title>
                <style>
                    .initials {
                        border: 1px solid #000000;
                        padding: 4px;
                        width: 40px;
                        height: 20px;
                        background-color: #ffffff;
                        display: inline-block;
                        font-size: 14px;
                        text-align: center;
                    }
                </style>
</head>    
<body>
    <header>
        <h1>Splitting Page</h1>
        
    </header>

    <nav>
        <h2>Purchaser List</h2>
        <p style="margin-right: 10px; font-size: 16px;">Purchasers:</p>
            <div class="item_list">
                <input type="text" class="fullName" placeholder="Full Name" style="margin-right: 10px" oninput="updateInitials(this)">
                <input type="text" class="initials" placeholder="Initials" readonly>
            </div>
            <div class="item_list">
                <input type="text" class="fullName" placeholder="Full Name" style="margin-right: 10px;" oninput="updateInitials(this)">
                <input type="text" class="initials" placeholder="Initials" readonly>
            </div>
            <script>
                function updateInitials(element) {
                    var fullName = element.value;
                    var initials = fullName.split(' ').map((n) => n[0]).join('');
                    // Find the closest parent with the class 'item_list'
                    var itemList = element.closest('.item_list');
                    // Within this 'item_list', find the element with class 'initials'
                    var initialsInput = itemList.querySelector('.initials');
                    initialsInput.value = initials.toUpperCase();
                }
            </script>
    </nav>
    <nav>
    <h2>Item List</h2>
    <ul id="itemsContainer">
        <!-- Dynamically added item lines will go here -->
    </ul>
    </nav>

    <script>
        function addItemLine(itemText, priceText, options, containerId) {
            // Create the item line container
            const itemLine = document.createElement('div');
            itemLine.className = 'item_line';

            // Create the initials box and select element
            const initialsBox = document.createElement('div');
            initialsBox.className = 'initials-box';
            const select = document.createElement('select');
            // Generate a unique ID for the select element
            const selectId = `initialSelect-${Math.random().toString(36).substr(2, 9)}`;
            select.id = selectId;
            options.forEach(option => {
                const optionElement = document.createElement('option');
                optionElement.value = option.value;
                optionElement.textContent = option.text;
                select.appendChild(optionElement);
            });
            initialsBox.appendChild(select);

            // Create the item box
            const itemBox = document.createElement('div');
            itemBox.className = 'item-box';
            itemBox.contentEditable = true;
            itemBox.textContent = itemText;

            // Create the price box
            const priceBox = document.createElement('div');
            priceBox.className = 'price-box';
            priceBox.contentEditable = true;
            priceBox.textContent = priceText;

            // Append all to itemLine
            itemLine.appendChild(initialsBox);
            itemLine.appendChild(itemBox);
            itemLine.appendChild(priceBox);

            // Add the item line to the container
            document.getElementById(containerId).appendChild(itemLine);

            // Add event listener to the select element
            document.getElementById(selectId).addEventListener('change', function() {
                var selectedValue = this.value;
                console.log("Selected value: " + selectedValue);
            });
        }

        // Example usage
        document.addEventListener('DOMContentLoaded', () => {
            const options1 = [
                { value: 'option1', text: 'AT' },
                { value: 'option2', text: 'DG' },
                { value: 'option3', text: 'HI' },
                { value: 'option4', text: 'WW' }
            ];
            addItemLine('Bananas', '$1.49', options1, 'itemsContainer');
            // Call addItemLine as many times as needed with different parameters to add more items
            const options2 = [
                { value: 'option1', text: 'BG' },
                { value: 'option2', text: 'DG' },
                { value: 'option3', text: 'HI' },
                { value: 'option4', text: 'WW' }
            ];
            addItemLine('Apples', '$2.49', options2, 'itemsContainer');
        });
    </script>

    <main>
        <section>
            <h2>About Me</h2>
            <p>This is a basic webpage created using HTML. It serves as an example of a simple webpage structure.</p>
        </section>

        <section>
            <h2>Contact Information</h2>
            <p>You can contact me at example@example.com.</p>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 My Basic Webpage. All rights reserved.</p>
    </footer>
</body>
</html>
